document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector(".todo-list__create-new-todo"),t=document.querySelector(".create-button"),o=document.querySelector(".todo-title"),c=document.querySelector(".todo-massage"),n=document.querySelector(".todo-list__todo");document.querySelector(".todo-list__add-button").addEventListener("click",(()=>{o.value="",c.value="",t.setAttribute("disabled",!0),e.classList.add("active")})),document.querySelector(".todo-close-button").addEventListener("click",(()=>{e.classList.remove("active")}));let l=[];function d(){""==o.value&&""==c.value||t.removeAttribute("disabled")}function i(){let e="";l.forEach((function(t,o){e+=`\n            <li class="todo-items__todo" oncontextmenu="return false" id='${o}'>\n                <input type ='checkbox' id='item_${o}' ${t.checked?"checked":""} class="custom-checkbox">\n                <label for="item_${o}'"></label>\n                <div class = "todo-items__messages-box">\n                    <label for  = 'item_${o}' class = "todo-items__todo-title">${t.todoTitle}</label>\n                    <label for  = 'item_${o}' class = "todo-items__todo-message">${t.todoMessage}</label>\n                </div>\n            </li>\n            `,n.innerHTML=e}))}localStorage.getItem("todo")&&(l=JSON.parse(localStorage.getItem("todo")),i()),o.oninput=function(){d()},c.oninput=function(){d()},t.addEventListener("click",(function(){let t={todoTitle:o.value,todoMessage:c.value,checked:!1};l.push(t),i(),localStorage.setItem("todo",JSON.stringify(l)),e.classList.remove("active")})),n.addEventListener("change",(function(e){let t=e.target.getAttribute("id"),o=n.querySelector("[for="+t+"]").innerHTML;l.forEach((function(e){e.todoTitle===o&&(e.checked=!e.checked,localStorage.setItem("todo",JSON.stringify(l)))}))}))}));